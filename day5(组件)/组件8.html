<!DOCTYPE html>
<html lang='en'>

  <head>
    <meta charset="UTF-8">
    <title>子组件向父组件传递数据</title>
  </head>

  <body>
    <div id="app">
      <!--通过v-on（@）来监听子组件的自定义事件-->
      <my_cpn @itemclick="cpnClick"></my_cpn>
    </div>
    <template id="cpn">
      <div>
        <button v-for="item in categories" @click="btnClick(item)">
          {{ item.name }}
        </button>
      </div>
    </template>
    <script src="../js/vue.js"></script>
    <script>
      // 1.子组件
      const cpn = {
        template: "#cpn",
        data() {
          return {
            categories: [
              {id: "aaa", name: "热门推荐"},
              {id: "bbb", name: "手机数码"},
              {id: "ccc", name: "家用家电"},
              {id: "ddd", name: "电脑办公"},
            ]
          }
        },
        // 2.子组件方法
        methods: {
          btnClick(item) {
            // 3.子组件触发，发射自定义事件
            this.$emit('itemclick', item)
          }
        }

      }
      // 父组件内进行注册子组件
      const app = new Vue({
        el: "#app",
        data:{
          info: ""
        },
        components: {
          my_cpn: cpn
        },
        methods: {
          // 4.父组件监听子组件自定义事件
          cpnClick() {
            console.log("cpnClick")
          }
        }
      })
    </script>
  </body>
</html>